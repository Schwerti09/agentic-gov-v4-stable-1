<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentic.Gov | AI Act Compliance Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: #e2e8f0; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #3730a3; border-radius: 4px; }
    </style>
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.309.0",
            "framer-motion": "https://esm.sh/framer-motion@10.18.0",
            "firebase/app": "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",
            "firebase/auth": "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js",
            "firebase/firestore": "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"
        }
    }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <!-- GLOBAL ERROR HANDLER TO PREVENT BLACK SCREEN -->
    <div id="global-error" style="display:none; position:fixed; inset:0; background:#000; color:red; padding:20px; z-index:9999;">
        <h2 style="font-size:20px; font-weight:bold;">System Critical Error</h2>
        <pre id="error-msg" style="margin-top:10px; opacity:0.8;"></pre>
    </div>
    <script>
        window.onerror = function(msg, url, line, col, error) {
            document.getElementById('global-error').style.display = 'block';
            document.getElementById('error-msg').innerText = msg + "\nLine: " + line;
            return false;
        };
    </script>
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Shield, Search, Zap, BarChart3, Cpu, Lock, ArrowRight, Terminal, 
            CheckCircle2, AlertTriangle, Globe, Database, Command, Layers, 
            Activity, ChevronRight, MessageSquare, Send, Loader2, Scale, 
            FileText, ShieldCheck, TrendingUp, Users, Clock, Briefcase, 
            Share2, Quote, X, ChevronDown, Rocket, Award, CreditCard, 
            LayoutDashboard, PieChart, Settings, LogOut, TrendingDown, BookOpen, 
            HelpCircle, Link as LinkIcon, LockKeyhole, Star, Check, Server, 
            FileCheck, Fingerprint, MousePointerClick, Timer, AlertOctagon,
            Network, Share, Stethoscope, Car, Landmark, Plane, Factory, Smartphone,
            Bell
        } from 'lucide-react';
        import { motion, AnimatePresence } from 'framer-motion';
        import { initializeApp } from 'firebase/app';
        import { getAuth, signInWithCustomToken, signInAnonymously, onAuthStateChanged } from 'firebase/auth';
        import { getFirestore, collection, addDoc, serverTimestamp, onSnapshot, query, where, getDocs } from 'firebase/firestore';

        // CONFIG
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        let app, auth, db;
        try {
            if (firebaseConfig.apiKey) {
                app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
            } else {
                console.warn("Firebase Config fehlt - Demo Mode active");
            }
        } catch (e) { console.error(e); }

        const INDUSTRIES = [
            { id: 'health', name: "Healthcare & Pharma", icon: Stethoscope, risk: "High", context: "MDR & AI Act Konvergenz" },
            { id: 'automotive', name: "Automotive & Mobility", icon: Car, risk: "High", context: "Autonomes Fahren Level 3+" },
            { id: 'finance', name: "Banking & Fintech", icon: Landmark, risk: "High", context: "Credit Scoring & Fraud Detection" },
            { id: 'aerospace', name: "Aerospace & Defense", icon: Plane, risk: "Critical", context: "Sicherheitskritische Systeme" },
            { id: 'manufacturing', name: "Industrial IoT", icon: Factory, risk: "Medium", context: "Predictive Maintenance" },
            { id: 'consumer', name: "Consumer Apps", icon: Smartphone, risk: "Low", context: "Recommender Systems" }
        ];

        const TOPICS = [
            { id: 'iso42001', name: "ISO/IEC 42001", desc: "AIMS Management System Zertifizierung" },
            { id: 'art10', name: "AI Act Artikel 10", desc: "Daten-Governance & Management" },
            { id: 'art29', name: "FRIA (Art. 29a)", desc: "Grundrechte-Folgenabschätzung" },
            { id: 'cyber', name: "Cyber Resilience Act", desc: "Security by Design für AI" },
            { id: 'gdpr', name: "DSGVO & AI", desc: "Automatisierte Entscheidungsfindung" }
        ];

        const KNOWLEDGE_DATA = {
            glossary: [
                { id: 'agentic-governance', term: "Agentic Governance", def: "Ein Framework zur autonomen Steuerung von KI-Systemen.", context: "Core Strategy", tags: ["Core"] },
                { id: 'mcp', term: "Model Context Protocol", def: "Standard für sichere Kontext-Injektion.", context: "Tech Stack", tags: ["Tech"] }
            ],
            faq: [
                { q: "Ist meine KI Hochrisiko?", a: "Hängt von Anhang III des AI Acts ab." },
                { q: "Was kostet ein Verstoß?", a: "Bis zu 35 Mio. Euro." }
            ]
        };

        const GEOEngine = ({ path }) => {
            useEffect(() => {
                let title = "Agentic.Gov | AI Act Compliance Platform";
                if (path && path.startsWith('industry/')) {
                    const ind = INDUSTRIES.find(i => i.id === path.split('/')[1]);
                    if (ind) title = ind.name + " AI Solutions | Agentic.Gov";
                }
                document.title = title;
            }, [path]);
            return null;
        };

        const Button = ({ children, variant = 'primary', className = '', ...props }) => {
            const variants = {
                primary: 'bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-indigo-500/50',
                secondary: 'bg-slate-800 hover:bg-slate-700 text-slate-100 border border-slate-700',
                outline: 'bg-transparent hover:bg-slate-800 text-indigo-400 border border-indigo-500/50',
                premium: 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-xl hover:shadow-indigo-500/25 border border-white/10',
                ghost: 'text-slate-400 hover:text-white transition-colors bg-transparent'
            };
            const cls = "px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 " + variants[variant] + " " + className;
            return <button className={cls} {...props}>{children}</button>;
        };

        const Card = ({ children, className = "" }) => <div className={"bg-slate-900/40 backdrop-blur-2xl border border-slate-800/50 rounded-2xl p-6 transition-all duration-500 " + className}>{children}</div>;

        const Toast = ({ message, onClose }) => {
            useEffect(() => { const timer = setTimeout(onClose, 4000); return () => clearTimeout(timer); }, [onClose]);
            return (
                <motion.div initial={{ opacity: 0, y: 50 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 20 }} className="fixed bottom-8 right-8 z-[1000] bg-slate-900 border border-indigo-500/50 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-4">
                    <Bell size={20} className="text-indigo-400" />
                    <div><h4 className="font-bold text-sm">System</h4><p className="text-sm text-slate-300">{message}</p></div>
                </motion.div>
            );
        };

        const TrustBar = () => (
            <div className="w-full bg-[#0f172a] border-y border-slate-800 py-6 overflow-hidden">
                <div className="max-w-7xl mx-auto px-6 flex justify-between items-center text-slate-400 text-xs font-bold uppercase tracking-widest">
                    <span className="hidden md:block">Trust Standard:</span>
                    <div className="flex gap-8"><span className="flex items-center gap-2"><LockKeyhole size={16}/> GDPR Compliant</span><span className="flex items-center gap-2"><Server size={16}/> Frankfurt Node</span></div>
                </div>
            </div>
        );

        const Footer = ({ openLegal }) => (
            <footer className="bg-[#020617] border-t border-slate-800 pt-16 pb-8 px-6 mt-20 text-center">
                <div className="flex justify-center gap-6 text-sm text-slate-500 mb-4">
                    <button onClick={() => openLegal && openLegal('impressum')} className="hover:text-white">Impressum</button>
                    <button onClick={() => openLegal && openLegal('datenschutz')} className="hover:text-white">Datenschutz</button>
                </div>
                <p className="text-xs text-slate-600">&copy; 2026 Agentic.Gov - Made in Dornum.</p>
            </footer>
        );

        const KnowledgeHub = () => (
            <section id="knowledge" className="py-20 px-6 bg-[#020617] border-t border-slate-800/50">
                <div className="max-w-7xl mx-auto text-center">
                    <h2 className="text-3xl font-bold text-white mb-8">Wissensdatenbank</h2>
                    <div className="grid md:grid-cols-2 gap-4 text-left">
                        {KNOWLEDGE_DATA.glossary.map(i => (
                            <div key={i.id} className="p-4 bg-slate-900 rounded-xl border border-slate-800"><h4 className="text-indigo-400 font-bold">{i.term}</h4><p className="text-sm text-slate-400">{i.def}</p></div>
                        ))}
                    </div>
                </div>
            </section>
        );

        const RiskCalculator = ({ onComplete }) => {
            const [step, setStep] = useState(0);
            const [score, setScore] = useState(0);
            const [email, setEmail] = useState("");
            const questions = [{ q: "Kritische Infrastruktur?", w: 30 }, { q: "Biometrische Daten?", w: 40 }, { q: "Entscheidung über Personen?", w: 25 }];
            const handleAnswer = (yes) => { if (yes) setScore(s => s + questions[step].w); if (step < questions.length - 1) setStep(s => s + 1); else setStep('result'); };
            return (
                <div className="max-w-2xl mx-auto bg-slate-900 border border-slate-700 rounded-3xl p-8 shadow-2xl relative overflow-hidden">
                    <div className="absolute top-0 left-0 w-full h-1 bg-slate-800"><div className="h-full bg-indigo-500 transition-all duration-500" style={{ width: step === 'result' ? '100%' : ((step + 1) / questions.length) * 100 + '%' }}></div></div>
                    {step !== 'result' ? (
                        <div key={step} className="animate-in fade-in">
                            <h3 className="text-2xl font-bold text-white mb-2">Phase {step + 1}</h3>
                            <p className="text-lg text-slate-300 mb-8">{questions[step].q}</p>
                            <div className="flex gap-4"><Button variant="secondary" className="w-1/2" onClick={() => handleAnswer(false)}>Nein</Button><Button variant="premium" className="w-1/2" onClick={() => handleAnswer(true)}>Ja</Button></div>
                        </div>
                    ) : (
                        <div className="text-center animate-in zoom-in">
                            <h3 className="text-3xl font-black text-white mb-2">Analyse Fertig</h3>
                            <form onSubmit={(e) => { e.preventDefault(); onComplete({ email, score }); }} className="flex gap-2 max-w-md mx-auto mt-8"><input required type="email" placeholder="name@firma.de" className="flex-1 bg-slate-800 border border-slate-600 rounded-xl px-4 text-white" value={email} onChange={e => setEmail(e.target.value)} /><Button type="submit">Report</Button></form>
                        </div>
                    )}
                </div>
            );
        };

        const PageRenderer = ({ route, navigate, openStripe }) => {
            if (route.startsWith('industry/')) {
                const id = route.split('/')[1];
                const data = INDUSTRIES.find(i => i.id === id);
                if (!data) return <div className="p-20 text-center text-white">404</div>;
                return (
                    <div className="pt-32 pb-20 px-6 max-w-7xl mx-auto">
                        <button onClick={() => navigate('')} className="text-indigo-400 mb-8 flex items-center gap-2">Back</button>
                        <div className="grid lg:grid-cols-2 gap-16 items-center">
                            <div>
                                <h1 className="text-5xl font-black text-white mb-6">AI Compliance für <br/><span className="text-indigo-500">{data.name}</span></h1>
                                <Button onClick={() => navigate('calculator')}>Risiko-Check</Button>
                            </div>
                            <div className="bg-slate-900 border border-slate-800 rounded-2xl p-8"><div className="text-white font-bold">{data.risk} Priority</div></div>
                        </div>
                    </div>
                );
            }
            return null;
        };

        const StripeModal = ({ isOpen, onClose, plan }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[600] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
                    <div className="bg-slate-900 border border-slate-700 w-full max-w-md rounded-2xl p-8 shadow-2xl relative">
                        <h3 className="text-xl font-bold text-white mb-2">{plan.name || 'Plan'}</h3>
                        <p className="text-slate-400 mb-6">{plan.price || 'Price'}</p>
                        <Button className="w-full" onClick={onClose}>Simulate Payment</Button>
                        <button onClick={onClose} className="absolute top-4 right-4 text-slate-500 hover:text-white"><X size={20}/></button>
                    </div>
                </div>
            );
        };

        const BetaModal = ({ isOpen, onClose }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[600] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
                    <div className="bg-slate-900 border border-slate-700 w-full max-w-md rounded-2xl p-8 shadow-2xl relative">
                        <h3 className="text-xl font-bold text-white mb-4">Beta Access</h3>
                        <Button className="w-full" onClick={onClose}>Register</Button>
                        <button onClick={onClose} className="absolute top-4 right-4 text-slate-500 hover:text-white"><X size={20}/></button>
                    </div>
                </div>
            );
        };

        const LegalModal = ({ isOpen, onClose, type }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[600] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
                    <div className="bg-slate-900 border border-slate-700 w-full max-w-lg rounded-2xl p-8 shadow-2xl relative">
                        <h3 className="text-xl font-bold text-white mb-4 capitalize">{type}</h3>
                        <p className="text-slate-300 text-sm">Legal Content Placeholder for {type}</p>
                        <button onClick={onClose} className="absolute top-4 right-4 text-slate-500 hover:text-white"><X size={20}/></button>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [route, setRoute] = useState(''); 
            const [user, setUser] = useState(null);
            const [activeToast, setActiveToast] = useState(null);
            const [stripeConfig, setStripeConfig] = useState(null);
            const [legalView, setLegalView] = useState(null);
            const [isBetaModalOpen, setIsBetaModalOpen] = useState(false);

            useEffect(() => {
                const handleHash = () => setRoute(window.location.hash.replace('#', ''));
                window.addEventListener('hashchange', handleHash);
                handleHash(); 
                if (auth) onAuthStateChanged(auth, setUser);
                return () => window.removeEventListener('hashchange', handleHash);
            }, []);

            const navigate = (path) => { window.location.hash = path; window.scrollTo({ top: 0, behavior: 'smooth' }); };
            const showToast = (msg) => setActiveToast(msg);
            const openStripe = (plan) => setStripeConfig(plan);

            return (
                <div className="min-h-screen">
                    <GEOEngine path={route} />
                    <AnimatePresence>
                        {activeToast && <Toast message={activeToast} onClose={() => setActiveToast(null)} />}
                    </AnimatePresence>
                    
                    <StripeModal isOpen={!!stripeConfig} onClose={() => setStripeConfig(null)} plan={stripeConfig || {}} />
                    <LegalModal isOpen={!!legalView} onClose={() => setLegalView(null)} type={legalView} />
                    <BetaModal isOpen={isBetaModalOpen} onClose={() => setIsBetaModalOpen(false)} />

                    <nav className="fixed top-0 w-full z-50 bg-[#020617]/80 border-b border-white/5 backdrop-blur-xl h-20">
                        <div className="max-w-7xl mx-auto px-6 h-full flex items-center justify-between">
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => navigate('')}>
                                <div className="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg"><ShieldCheck className="text-white" size={22} /></div>
                                <span className="text-xl font-black text-white">AGENTIC.GOV</span>
                            </div>
                            <div className="hidden lg:flex items-center gap-6 text-xs font-bold uppercase tracking-widest text-slate-500">
                                <button onClick={() => navigate('calculator')} className="hover:text-white">Tools</button>
                                <div className="relative group">
                                    <span className="hover:text-white cursor-pointer py-4">Industries</span>
                                    <div className="absolute top-full left-0 mt-2 w-64 bg-[#0f172a] border border-slate-700 rounded-xl shadow-2xl opacity-0 group-hover:opacity-100 invisible group-hover:visible transition-all p-2">
                                        {INDUSTRIES.map(i => (
                                            <div key={i.id} onClick={() => navigate("industry/" + i.id)} className="p-3 hover:bg-slate-800 rounded-lg cursor-pointer flex items-center gap-3 text-slate-300 hover:text-white">
                                                <i.icon size={16} className="text-indigo-500" /> {i.name}
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                            <Button variant="premium" className="h-10 px-6 text-[10px] uppercase" onClick={() => setIsBetaModalOpen(true)}>Get Access</Button>
                        </div>
                    </nav>

                    {route === 'calculator' ? (
                        <div className="pt-32 pb-20 px-6 max-w-4xl mx-auto min-h-screen">
                            <button onClick={() => navigate('')} className="text-indigo-400 mb-8 flex items-center gap-2">Back</button>
                            <RiskCalculator onComplete={(data) => { showToast("Report gesendet an " + data.email); setTimeout(() => navigate(''), 2000); }} />
                        </div>
                    ) : route === '' ? (
                        <>
                            <section className="relative pt-48 pb-20 px-6 overflow-hidden">
                                <div className="max-w-7xl mx-auto grid lg:grid-cols-2 gap-20 items-center">
                                    <div>
                                        <h1 className="text-5xl md:text-7xl font-black text-white leading-tight mb-8">Compliance ist <br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-300 to-white">Ihr Vorteil.</span></h1>
                                        <div className="flex gap-4"><Button variant="premium" onClick={() => navigate('calculator')}>Check Starten</Button><Button variant="outline" onClick={() => document.getElementById('pricing').scrollIntoView()}>Preise</Button></div>
                                    </div>
                                    <div className="relative"><div className="bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-2xl"><Activity size={32} className="text-indigo-500 mb-4"/><div className="text-white font-bold">Live Compliance Status: OK</div></div></div>
                                </div>
                            </section>
                            
                            <section className="py-20 px-6 border-t border-slate-800">
                                <div className="max-w-7xl mx-auto">
                                    <div className="grid md:grid-cols-3 gap-6">
                                        {INDUSTRIES.map(ind => (
                                            <div key={ind.id} onClick={() => navigate("industry/" + ind.id)} className="group bg-slate-900/50 border border-slate-800 hover:border-indigo-500 p-6 rounded-2xl cursor-pointer">
                                                <ind.icon className="text-slate-400 group-hover:text-white mb-4" size={24} />
                                                <h3 className="text-xl font-bold text-white mb-2">{ind.name}</h3>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </section>

                            <section id="pricing" className="py-32 px-6 bg-[#020617] text-center">
                                <h3 className="text-4xl font-bold text-white mb-12">Starter: 29€ / Mo</h3>
                                <Button variant="premium" onClick={() => openStripe({name: 'Compliance Starter', price: '29€'})}>Jetzt Kaufen</Button>
                            </section>

                            <TrustBar />
                            <KnowledgeHub />
                        </>
                    ) : (
                        <PageRenderer route={route} navigate={navigate} openStripe={openStripe} />
                    )}
                    
                    <Footer openLegal={setLegalView} />
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>

<!-- Deployed with Zip-Ship -->
<div id="zipship-badge" style="position:fixed;bottom:12px;right:12px;z-index:9999;font-family:system-ui,sans-serif;font-size:12px;">
  <a href="https://zip-ship-revolution.com/?utm_source=user_site" target="_blank" rel="noopener" 
     style="display:flex;align-items:center;gap:6px;padding:6px 12px;background:rgba(10,14,39,0.85);color:#00F0FF;text-decoration:none;border-radius:6px;border:1px solid rgba(0,240,255,0.3);backdrop-filter:blur(8px);transition:all 0.2s;">
    <span style="font-size:14px;">⚡</span>
    <span>Deployed with Zip-Ship</span>
  </a>
</div>
</body>
</html>